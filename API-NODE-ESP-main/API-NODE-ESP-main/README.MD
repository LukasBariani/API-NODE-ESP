<div align="center"> <img src="./.github/assets/image.png" alt="Logo" height="200"> <h1 align="center"><strong>ESP MONITORING API</strong></h1> <p align="center"> API em <b>Node.js</b> com <b>Typescript</b> para coletar dados de sensores (DHT11, LDR e MQ-135) via <b>ESP32</b> ğŸš€ </p> </div> <br /> <!-- Badges --> <div align="center">






</div>
ğŸš€ Tecnologias

Este projeto foi desenvolvido com as seguintes tecnologias:

ğŸ“¦ DependÃªncias principais

express
 - Framework web para Node.js

sequelize
 + mysql2
 - ORM e driver MySQL

[typescript][typescript-npm] - Superset para desenvolvimento em escala

dotenv
 - VariÃ¡veis de ambiente

nodemon
 - Reload automÃ¡tico no desenvolvimento

ğŸ“„ Estrutura de Arquivos

.gitignore - Ignora node_modules, dist e arquivos sensÃ­veis

.env - VariÃ¡veis de ambiente (porta, banco, etc.)

tsconfig.json - ConfiguraÃ§Ãµes do TypeScript

src/models - Models Sequelize (User, Device, Reading)

src/controllers - Controladores da API

src/services - Regras de negÃ³cio

src/repositories - Acesso ao banco

src/routes - Rotas da API

âš¡ Scripts

npm run start:dev â†’ roda a API em modo desenvolvimento (com nodemon)

npm run start:dist â†’ compila e executa a versÃ£o em dist/

npm run build â†’ gera build TypeScript para JavaScript em dist/

ğŸ“¡ Funcionalidades

Cadastro de usuÃ¡rios e dispositivos (com apiKey)

Recebimento de leituras de sensores (temperature, humidity, luminosity, gas)

AssociaÃ§Ã£o automÃ¡tica entre device â†” reading via apiKey

Endpoints para:

Listar todas as leituras

Buscar leituras por deviceId

Ãšltima leitura de um dispositivo

Leituras filtradas por perÃ­odo

ğŸ‘¨â€ğŸ’» Como usar
Requisitos

Git

Node.js v20+

MySQL 8+

Passo a passo
# Clone o repositÃ³rio
$ git clone https://github.com/LukasBariani/API-NODE-ESP

# Entre na pasta
$ cd API-NODE-ESP

# Instale as dependÃªncias
$ npm install

# Rode
$ npm run start:dev


A API estarÃ¡ disponÃ­vel em:
ğŸ‘‰ http://localhost:3333/api

ğŸ”Œ IntegraÃ§Ã£o com o ESP32

O ESP32 coleta dados dos sensores e envia para a API:

DHT11 â†’ Temperatura (Â°C) e Umidade (%)

LDR â†’ Luminosidade (valor analÃ³gico)

MQ-135 â†’ Qualidade do ar (valor analÃ³gico)

Exemplo de payload enviado:

{
  "temperature": 23.5,
  "humidity": 48,
  "luminosity": 512,
  "gas": 289
}


Com cabeÃ§alho:

x-api-key: def456

ğŸ‘¤ Autor
<img src="https://avatars.githubusercontent.com/u/166918103?v=4" width=80><br><sub>Lukas Rodrigues Bariani</sub>

Baseado no node-blue-boilerplate